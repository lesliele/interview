<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>

</body>
<script>
  // 1.ä½¿ç”¨setç›¸æ¯”æ•°ç»„çš„å¥½å¤„
  let arr = [],
    set = new Set(),
    n = 1000000;
  for (let i = 0; i < n; i++) {
    arr.push(i);
    set.add(i);
  }

  let result;
  console.time('Array');
  result = arr.indexOf(123123) !== -1;
  console.timeEnd('Array');
  console.time('Set');
  result = set.has(123123);
  console.timeEnd('Set');
  // æ€»çš„æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨Set æžå¤§åœ°æ”¹å–„è¿è¡Œæ—¶é—´ã€‚

  // ç»™å®šä¸€ä¸ªæ•´æ•°æ— åºæ•°ç»„å’Œå˜é‡ sumï¼Œå¦‚æžœå­˜åœ¨æ•°ç»„ä¸­ä»»æ„ä¸¤é¡¹å’Œä½¿ç­‰äºŽ sum çš„å€¼ï¼Œåˆ™è¿”å›žtrueã€‚
  // å¦åˆ™,è¿”å›žfalseã€‚ä¾‹å¦‚ï¼Œæ•°ç»„[3,5,1,4]å’Œ sum = 9ï¼Œå‡½æ•°åº”è¯¥è¿”å›žtrueï¼Œå› ä¸º4 + 5 = 9ã€‚

  const findSum = (arr, val) => {
    let searchValues = new Set();
    searchValues.add(val - arr[0]);
    for (let i = 1, length = arr.length; i < length; i++) {
      let searchVal = val - arr[i];
      if (searchValues.has(arr[i])) {
        return true;
      } else {
        searchValues.add(searchVal);
      }
    };
    return false;
  };
  console.log(findSum([3,5,1,4], 9))
  console.log('1==============================')

  // 2.Proxyçš„å·§ç”¨
  // (1).é›¶å€¼çš„æ¦‚å¿µï¼Œé›¶å€¼æ˜¯ç‰¹å®šäºŽç±»åž‹çš„éšå¼é»˜è®¤ç»“æž„å€¼ã€‚
  const widthZeroValue = (target, zeroValue) => new Proxy(target, {
    get: (obj, prop) => (prop in obj) ? obj[prop] :zeroValue
  });
  // å¦‚æžœæˆ‘ä»¬æ‰©å±•withZeroValueï¼Œä»¥Boolean (false), Number (0), String (""), Object ({})ï¼ŒArray ([])ç­‰å¯¹åº”çš„é›¶å€¼
  let pos = {
    x: 1,
    y: 2
  }
  console.log(pos.x, pos.y, pos.z)
  pos = widthZeroValue(pos, 0)
  console.log(pos.x, pos.y, pos.z)
  console.log('2==============================')

  // (2).è´Ÿç´¢å¼•æ•°ç»„
  const negativeArray = (els) => new Proxy(els, {
    get: (target, propKey, receiver) => Reflect.get(target, 
      (+propKey < 0) ? String(target.length + +propKey) : propKey, receiver)
  })
  const unicorn = negativeArray(['ðŸ´', 'ðŸŽ‚', 'ðŸŒˆ']);
  console.log(unicorn[-1])
  console.log('3==============================')
</script>

</html>